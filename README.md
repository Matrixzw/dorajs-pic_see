
# 月色图集

[toc] 

## 2020年6月23日 

### 已经解决

1. 使用reverse暂时把需要测试的mzitu放到了第一个上面

2. 爬虫函数spider_mizitu 里面不小心拼写错误，算了就不去改正了

3. 解决了拉到底部的unhandle err，使用try catch。不过后来我删除了if(data_b)应该没有什么问题

4. 图片一张一张加载很慢（但问题也不大）。不知道也没有什么方法解决。

5. 想要添加category和date_time信息必须重写一下那个nextpage。不依赖nextpage函数

6. 并行计算天下第一！！！真的快。

7. 用while(true) 方式可以是可以但是一次访问太多也不好，还是用一次访问12张结合nextpage比较好。实践下来发现其实不管几个一组都是差不多的速度吧改为9个一组算了。本来想增加一个category但是不太容易。这个实现方式我很满意。特别还利用了Promise的catch函数，非常好用，break都省了。改为三张一刷新。至少能够进入就看到图片

8. 大图浏览只需要添加 route: $route('@image',{url:})

9. 下拉错误的两个原因。第一就是spider程序中偷懒用了.pxxx没有加前面div.导致了选择的list太多从而搜不到img_url，而且我还没有加那个err函数，unhandle的err了变成。另一个错误是之前为了解决这个错误吧page参数变成了str格式调用了toString错误，应该toString()放在后面而且这个是直接修改参数的，所以其实没必要toString()。直接''+page+'xx'即可。

10. 至此就完成了drawer的设计，基本上可以说完成了。再完善一些。

11. search也完成了，这个search竟然忘记了加search关键字

12. 修改图标就是找网站的favicon.ico即可

13. 解决了仅有一个页面的直接展示 type list，style book

14. 解决了all页面的数据抓取，为了方便我们近展示300条数据够了

15. 通过设置unshift将第一个tags弄上去了


### 需要解决

- [x] 点击打开大图浏览，应该是用一下image即可
- [x] 添加搜索框，修改图标。
- [x] 添加category，data_time信息
- [x] 原来有些是没有image_url 那个首页爬虫的程序有点问题
- [ ] 添加其他目录
- [x] 下拉之后出错
- [x] mzzp jpmn mrgx不同的路由
- [x] mvzt mrgx 不同的路由
- [x] 在第二层页面上做一个相关推荐,热门推荐已经完成，就是感觉太慢了一次加载12张
- [ ] 在第二层页面加上网友最爱

## 2020年6月22日

### 已经解决

1. 修改月色图集还是作为测试回到mzitu上面来

2. 现在完成的任务是在原先的基础上修改了成功的获取了二级的页面。已经首页可以看没有问题得了。也通过修改ssid然后把这个东西变成了我的，然后可以在这里修改

### 需要解决

- [x] 二级页面加载的时候拉倒底部会出现error，还没解决。应该加上一个判断语句 //使用try catch解决了，加上返回Promise then的内容解决的
- [ ] 好像还是会出现只能加载某几个页面的情况 //具体没有复现
- [x] 一张一张图片访问速度太慢了，可能可以通过并行的处理方式获得更快的速度。但是await在那好像不太好弄
- [x] 删除原先的网站，或者把这个网站移到后面。 
- [ ] 增添其他网站